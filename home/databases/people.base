filters:
  and:
    - or:
        - file.inFolder("base/contacts")
        - file.inFolder("base/creators")
        - file.inFolder("base/productions")
    - or:
        - '!this.file.hasTag("system/category")'
        - or:
            - file.hasTag("category/" + this.file.name.replace(" ", "_"))
            - category.contains(link(this.file.name))
formulas:
  backlinks: file.backlinks.length
  outlinks: file.links.length
  type: tags.toString().replace(/.*#(contact|creator|production)\/([^,]+).*/, "$2")
  created_relative: created.relative()
  updated_relative: updated.relative()
  category_status: if(!category.isEmpty(), "‚úÖ", "‚ùå")
  category_type_valid: if(category.isEmpty(), "‚úÖ", if(list(category).filter(value.asFile().hasTag("system/category")).length == list(category).length, "‚úÖ", "‚ùå"))
  meta_type_valid: if(meta.isEmpty(), "‚úÖ", if(list(meta).filter(value.asFile().hasTag("system/high/meta")).length == list(meta).length, "‚úÖ", "‚ùå"))
  problem_type_valid: if(problem.isEmpty(), "‚úÖ", if(list(problem).filter(value.asFile().hasTag("system/high/problem")).length == list(problem).length, "‚úÖ", "‚ùå"))
  production_type_valid: if(production.isEmpty(), "‚úÖ", if(list(production).filter(value.asFile().tags.filter(value.startsWith("#production/")).length > 0).length == list(production).length, "‚úÖ", "‚ùå"))
properties:
  formula.type:
    displayName: üóÑÔ∏è type
  file.name:
    displayName: üî§ title
  note.description:
    displayName: ü™™ description
  note.addition:
    displayName: ‚ûï
  note.relevant:
    displayName: üìå
  note.category:
    displayName: üó∫Ô∏è category
  note.meta:
    displayName: üîé meta
  note.problem:
    displayName: ‚ö° problem
  note.production:
    displayName: üè¨ production
  formula.backlinks:
    displayName: üîΩ
  formula.outlinks:
    displayName: ‚¨ÜÔ∏è
  formula.created_relative:
    displayName: üÜï created
  formula.updated_relative:
    displayName: üîÑ updated
  formula.category_status:
    displayName: structure
  formula.category_type_valid:
    displayName: type
  formula.meta_type_valid:
    displayName: üè∑Ô∏è
  formula.problem_type_valid:
    displayName: üè∑Ô∏è
  formula.production_type_valid:
    displayName: üè∑Ô∏è
views:
  - type: table
    name: üë• All People
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    limit: 28
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: ‚Äî‚Äî‚Äî
    filters:
      and:
        - "false"
    order:
      - file.name
  - type: table
    name: "üóÑÔ∏è Group: By Type"
    groupBy:
      property: formula.type
      direction: ASC
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: ‚Äî‚Äî‚Äî
    filters:
      and:
        - "false"
    order:
      - file.name
  - type: table
    name: "üë§ Type: Contacts"
    filters:
      and:
        - file.inFolder("base/contacts")
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort: []
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: "üë®‚Äçüé® Type: Creators"
    filters:
      and:
        - file.inFolder("base/creators")
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: "üè≠ Type: Productions"
    filters:
      and:
        - file.inFolder("base/productions")
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: ‚Äî‚Äî‚Äî
    filters:
      and:
        - "false"
    order:
      - file.name
  - type: table
    name: "üó∫Ô∏è Group: By Category"
    filters:
      and:
        - "!category.isEmpty()"
    groupBy:
      property: category
      direction: ASC
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: "üîé Group: By Meta"
    filters:
      and:
        - "!meta.isEmpty()"
    groupBy:
      property: meta
      direction: ASC
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: "‚ö° Group: By Problem"
    filters:
      and:
        - "!problem.isEmpty()"
    groupBy:
      property: problem
      direction: ASC
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: "üè¨ Group: By Production"
    filters:
      and:
        - "!production.isEmpty()"
    groupBy:
      property: production
      direction: ASC
    order:
      - relevant
      - formula.backlinks
      - formula.outlinks
      - file.name
      - addition
      - formula.type
      - description
      - category
      - meta
      - problem
      - production
      - formula.created_relative
      - formula.updated_relative
    sort:
      - property: relevant
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.relevant: 1
      formula.backlinks: 1
      formula.outlinks: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: ‚Äî‚Äî‚Äî
    filters:
      and:
        - "false"
    order:
      - file.name
  - type: table
    name: ‚úÖ Structure Validation
    filters:
      or:
        - formula.category_type_valid == "‚ùå"
        - formula.meta_type_valid == "‚ùå"
        - formula.problem_type_valid == "‚ùå"
        - formula.production_type_valid == "‚ùå"
    order:
      - file.name
      - formula.category_type_valid
      - category
      - formula.meta_type_valid
      - meta
      - formula.problem_type_valid
      - problem
      - formula.production_type_valid
      - production
    sort:
      - property: formula.category_type_valid
        direction: DESC
      - property: formula.meta_type_valid
        direction: DESC
      - property: formula.problem_type_valid
        direction: DESC
      - property: formula.production_type_valid
        direction: DESC
      - property: file.name
        direction: ASC
    columnSize:
      file.name: 350
      formula.category_type_valid: 70
      formula.meta_type_valid: 1
      formula.problem_type_valid: 1
      formula.production_type_valid: 1
      note.category: 180
      note.meta: 180
      note.problem: 180
      note.production: 180
