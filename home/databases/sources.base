filters:
  and:
    - file.inFolder("sources")
    - '!file.hasTag("mark/log")'
    - or:
        - '!this.file.hasTag("system/category")'
        - or:
            - file.hasTag("category/" + this.file.name.replace(" ", "_"))
            - category.contains(link(this.file.name))
formulas:
  type: file.tags.filter(value.startsWith("#source/"))[0].replace(/^.*\//, '')
  kanban: if(status.contains("âš›"), "1. âš› Atom", if(status.contains("ğŸŸ¦"), "2. ğŸŸ¦ In Progress", if(status.contains("ğŸŸ¥"), "3. ğŸŸ¥ ToDo", "4. Other")))
  backlinks: file.backlinks.length
  outlinks: file.links.length
  created_relative: created.relative()
  updated_relative: updated.relative()
properties:
  formula.type:
    displayName: ğŸ—„ï¸ type
  note.zotero:
    displayName: ğŸ‡¿
  note.addition:
    displayName: â•
  note.status:
    displayName: ğŸ’¯
  note.scientificity:
    displayName: ğŸ…°ï¸
  note.rating:
    displayName: ğŸŒ•ï¸
  note.category:
    displayName: ğŸ—ºï¸ category
  note.meta:
    displayName: ğŸ” meta
  note.problem:
    displayName: âš¡ problem
  note.creator:
    displayName: ğŸ‘¨ creator
  note.production:
    displayName: ğŸ¬ production
  note.url:
    displayName: ğŸ”— url
  note.genre:
    displayName: ğŸ­ Genre
  note.published:
    displayName: ğŸ—“ï¸ Year
  file.name:
    displayName: ğŸ”¤ title
  formula.backlinks:
    displayName: ğŸ”½
  formula.outlinks:
    displayName: â¬†ï¸
  formula.created_relative:
    displayName: ğŸ†• created
  formula.updated_relative:
    displayName: ğŸ”„ updated
views:
  - type: table
    name: ğŸ—ƒï¸ All (short)
    order:
      - file.name
      - addition
      - zotero
      - status
      - scientificity
      - rating
      - category
      - meta
      - problem
      - creator
      - production
      - url
    sort:
      - property: created
        direction: DESC
    limit: 28
    columnSize:
      file.name: 530
      note.addition: 90
      note.zotero: 1
      note.status: 1
      note.scientificity: 1
      note.rating: 1
  - type: table
    name: ğŸ—ƒï¸ All (extended)
    order:
      - formula.backlinks
      - formula.outlinks
      - formula.created_relative
      - formula.updated_relative
      - formula.type
      - file.name
      - addition
      - zotero
      - status
      - scientificity
      - rating
      - category
      - meta
      - problem
      - creator
      - production
      - url
    sort:
      - property: created_relative
        direction: DESC
    limit: 28
    columnSize:
      file.name: 530
      formula.backlinks: 1
      formula.outlinks: 1
      note.addition: 90
      note.zotero: 1
      note.status: 1
      note.scientificity: 1
      note.rating: 1
      formula.created_relative: 140
      formula.updated_relative: 140
  - type: table
    name: ğŸ“‹ Kanban
    filters:
      or:
        - status.contains("âš›")
        - status.contains("ğŸŸ¦")
        - status.contains("ğŸŸ¥")
    groupBy:
      property: formula.kanban
      direction: ASC
    order:
      - file.name
      - addition
      - zotero
      - status
      - url
    sort:
      - property: priority
        direction: ASC
    columnSize:
      file.name: 530
      note.addition: 90
      note.status: 1
  - type: cards
    name: ğŸ–¼ï¸ covers
    filters:
      and:
        - cover != null
        - file.tags.containsAny("source/cinematic/movie", "source/cinematic/anime", "source/cinematic/series")
    order:
      - file.name
    sort:
      - property: formula.created_relative
        direction: DESC
    limit: 27
    image: note.cover
    imageFit: contain
    imageAspectRatio: 1.4
  - type: list
    name: ğŸ“‹ List
    markers: bullet
    indentProperties: true
  - type: table
    name: ğŸŸ¥ ToDo
    filters:
      and:
        - status.contains("ğŸŸ¥")
    order:
      - file.name
      - addition
      - zotero
      - status
      - scientificity
      - rating
      - category
      - meta
      - problem
      - creator
      - url
    sort:
      - property: formula.created_relative
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.zotero: 1
      note.status: 1
      note.scientificity: 1
      note.rating: 1
  - type: table
    name: ğŸŸ¦ WIP
    filters:
      or:
        - status.contains("ğŸŸ¦")
        - status.contains("âš›")
    order:
      - file.name
      - addition
      - zotero
      - status
      - scientificity
      - rating
      - category
      - meta
      - problem
      - creator
      - url
    sort:
      - property: status
        direction: ASC
      - property: formula.created_relative
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.zotero: 1
      note.status: 1
      note.scientificity: 1
      note.rating: 1
  - type: table
    name: ğŸŸ© Done
    filters:
      and:
        - status.contains("ğŸŸ©")
    order:
      - file.name
      - addition
      - zotero
      - status
      - scientificity
      - rating
      - category
      - meta
      - problem
      - creator
      - url
    sort:
      - property: formula.created_relative
        direction: DESC
    columnSize:
      file.name: 530
      note.addition: 90
      note.zotero: 1
      note.status: 1
      note.scientificity: 1
      note.rating: 1
