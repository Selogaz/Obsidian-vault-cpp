---
tags:
  - source/book
  - category/java
aliases: []
status: üü¶
category:
  - "[[java]]"
meta: 
problem: 
creator: 
production: 
start: 2025-05-31T20:58:17+03:00
end: 
total_hours: 0
created: 2025-05-31T20:58:17+03:00
updated: 2025-07-12T11:13:26+03:00
---

- [[–≤–≤–µ–¥–µ–Ω–∏–µ –≤ –∫–Ω–∏–≥—É –§–µ–¥–æ—Ä–∞ –£—Ä–≤–∞–Ω–æ–≤–∞ –ø–æ —Å–ø—Ä–∏–Ω–≥—É]]

# üñç –¢–µ–æ—Ä–∏—è
- [[—Ç–µ–æ—Ä–∏—è –ø–æ Spring]]

# üü• –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- [[java –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã]][^1]

# üü• –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [[java –∑–∞–ø—É—Å–∫ virtualpets]][^2]

# üü© –ü–µ—Ä–≤—ã–µ —à–∞–≥–∏
- [[java –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–∏–Ω–æ–≤]]

## –ü—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –Ω–∞ [[Spring Framework]]
- [[java simple web.xml|web.xml]]
- [[java simple context.xml|context.xml]]
- [[java –ø—Ä–∏–º–µ—Ä rest-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞]]

## –ü—Ä–æ—Å—Ç–æ–π —Å–µ—Ä–≤–∏—Å –Ω–∞ [[Spring Boot]]
[[java Spring Intitializr]]
[[java —Å–±–æ—Ä–∫–∞ jar]]
[[java –ø–ª—é—Å—ã Spring Boot]]

# üü© Spring Core
## XML-config –¥–ª—è [[Spring Framework]][^3]
[[java virtual-pets-server web.xml]]
[[java —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–∏–Ω–æ–≤ –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏]]
[[java —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–∏–Ω–æ–≤ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º]]
[[java xml-—Å—Ö–µ–º—ã –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω]]
[[java –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –±–∏–Ω–æ–≤]]
[[java –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–ø–µ—Ä—Ç–µ–π –∏ –ø—Ä–æ—Ñ–∏–ª–∏]]
[[java —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–Ω–æ–≤]]
[[java import]]
[[java collection injection]]

## Java-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è [[Spring Boot]]
[[java @SpringBootApplication]]
[[java @Configuration –∏ @Bean]]
[[java @Profile]]
[[java –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SpringBoot]]

## –ë–∏–Ω—ã Spring
[[java —Å–ø–æ—Å–æ–±—ã –æ–ø–∏—Å–∞–Ω–∏—è –±–∏–Ω–æ–≤]]
[[java –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±–∏–Ω–æ–≤]]

# üü¶ –ê—Å–ø–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ
## –ü—Ä–æ–∫—Å–∏ JDK –∏ CGLIB
[[java –ø—Ä–æ–∫—Å–∏ JDK –∏ CGLIB]]
[[java –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ aop –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π]]
[[java —Å–ø–æ—Å–æ–±—ã –æ–ø–∏—Å–∞–Ω–∏—è –∞—Å–ø–µ–∫—Ç–æ–≤]]
java xml-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AOP
–° –ø–æ–º–æ—â—å—é XML-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞—Å–ø–µ–∫—Ç—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω `    http://www.springframework.org/schema/aop`, –∫–æ—Ç–æ—Ä–æ–µ –æ–±—ã—á–Ω–æ —Å–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `aop`:
```xml root-context.xml
    <?xml version = "1.0" encoding = "UTF-8"?>
<beans xmlns = "http://www.springframework.org/schema/beans"
    xmlns:aop = "http://www.springframework.org/schema/aop"
    xsi:schemaLocation = "
    http://www.springframework.org/schema/aop
    http://www.springframework.org/schema/aop/spring-aop.xsd
    http://www.springframework.org/schema/task/spring-task.xsd">
```

—Å–∞–º–∏ –∞—Å–ø–µ–∫—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç–µ–≥–∞ `aop:config`
```xml
<bean id = "schemaBasedAdvice"
        class = "ru.urvanov.virtualpets.server.example.SchemaBasedAdvice" />

<aop:config>
	<aop:aspect id = "beforeAspectExample" ref = "schemaBasedAdvice">
	...–°–æ–≤–µ—Ç—ã –∏ —Å—Ä–µ–∑—ã
	</aop:aspect>
</aop:config>
```
bean `schemaBasedAdvice` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–æ–¥—ã —Å –ª–æ–≥–∏–∫–æ–π —Å–æ–≤–µ—Ç–æ–≤
–≤–Ω—É—Ç—Ä–∏ —Ç–µ–≥–∞ `aop:aspect` –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–æ–≤–µ—Ç—ã –∏ —Å—Ä–µ–∑—ã.

–ø—Ä–∏–º–µ—Ä –æ–ø–∏—Å–∞–Ω–∏—è [[java aop pointcut|—Å—Ä–µ–∑–∞]] `beforeDaoPointcut` –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –≤ –∫–ª–∞—Å—Å–∞—Ö [[java —Å–ª–æ–π –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞|—Å–ª–æ—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞]]:
```xml
<aop:config>
        <aop:aspect id = "beforeAspectExample" ref = "schemaBasedAdvice">
            <aop:pointcut id = "beforeDaoPointcut"
                expression = "execution(* ru.urvanov.virtualpets.server.dao.*.*(..))" />
            ...
        </aop:aspect>
</aop:config>
```
–û–±—ä—è–≤–ª–µ–Ω–Ω—ã–π –¥–ª—è –Ω–µ–≥–æ —Å–æ–≤–µ—Ç:
```xml
 <aop:before pointcut-ref = "beforeDaoPointcut"
                method = "beforeDaoAdvice" />
```
–∞—Ç—Ä–∏–±—É—Ç `pointcut-ref` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ [[java aop pointcut|—Å—Ä–µ–∑]]
–∞—Ç—Ä–∏–±—É—Ç `method` - –∏–º—è –º–µ—Ç–æ–¥–∞ –≤ –∫–ª–∞—Å—Å–µ —Å [[java aop advice|—Å–æ–≤–µ—Ç–∞–º–∏]]

—É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—ã—à–µ `beforeDaoAdvice`:
```java
package ru.urvanov.virtualpets.server.example;

import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.ProceedingJoinPoint;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import ru.urvanov.virtualpets.server.controller.api.domain.HiddenObjectsGame;

public class SchemaBasedAdvice {
...
    public void beforeDaoAdvice(JoinPoint joinPoint) {
        logger.info("Accessing DAO layer {}.{}, arguments count {}.",
                joinPoint.getTarget().getClass().getName(),
                joinPoint.getSignature().getName(),
                joinPoint.getArgs().length);
	}
	...
}
```
–ú–µ—Ç–æ–¥ `beforeDaoAdvice` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –º–µ—Ç–æ–¥–æ–≤ –±–∏–Ω–æ–≤ –∏–∑ [[java —Å–ª–æ–π –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞|—Å–ª–æ—è –ø–æ—Å—Ç–æ—è–Ω—Å—Ç–≤–∞]]. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –æ–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `joinPoint`, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∞—Ä–≥—É–º–µ–Ω—Ç–∞—Ö, —Å–∏–≥–Ω–∞—Ç—É—Ä–µ –≤—ã–∑—ã–≤–∞–µ–º–æ–≥–æ –º–µ—Ç–æ–¥–∞, –∫–ª–∞—Å—Å–µ –∏ —Ç.–¥. –∏ –≤—ã–≤–æ–¥–∏—Ç —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ª–æ–≥.

–í –ø—Ä–∏–º–µ—Ä–µ —Å—Ä–µ–∑ –≤—ã–Ω–æ—Å–∏–ª—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫. –ù–æ —Å—Ä–µ–∑—ã –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ ‚Äì –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –æ–ø–∏—Å–∞—Ç—å –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å—Ä–µ–∑–∞ –≤–Ω—É—Ç—Ä–∏ –∞—Ç—Ä–∏–±—É—Ç–∞ `pointcut` –≤ —Ç–µ–≥–µ `aspect`:
```xml

```

[^1]: –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å [[java –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã#Kubernetes|Kubernetes]] –ø–æ—Å–ª–µ –ø—Ä–æ—á—Ç–µ–Ω–∏—è –≤—Å–µ–π –∫–Ω–∏–≥–∏
[^2]: –∑–¥–µ—Å—å –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –∑–∞–ø—É—Å–∫ 2 –≤–µ—Ä—Å–∏–π –±—ç–∫–∞ –∏ 1 –∫–ª–∏–µ–Ω—Ç–∞
[^3]: –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–∑ 3 –≥–ª–∞–≤—ã [[#–ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è]]
