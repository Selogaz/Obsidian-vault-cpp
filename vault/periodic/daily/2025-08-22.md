---
tags:
  - periodic/day
up:
  - "[[periodic/weekly/2025-W34|2025-W34]]"
updated: 2025-08-22T09:50:34+03:00
reviewed: false
---

Локи в базах данных, как используются в уровнях изоляции
select for update, точечный serializable
hash index для точечных селектов
beetree hash
jean для поиска по кусочкам строк
gis для гео данных
паттерны проектирования повторить
[[sources/refactoring guru|refactoring guru]]

Слоистая архитектура
- Парковочная система на базе спринга
	- Пропускать людей или не
		- запрашивает доступ
		- принять запрос, там будет id пользователя и тип (въезд или выезд)
		- rest-контроллер
	- выезд
		- не истек ли период бесплатной парковки
			- если истек, проверить оплатил ли он
				- не оплатил - мы не можем вас выпустить
			- если не истек - выпускаем
	- въезд
		- проверить наличие свободных мест
		- запрет на въезд - false
	- endpoint для оплаты
	- декомпозировать
		- сделать каркас = [[java MVC|MVC]]
		- хранилище пользователей
		- запрос выезд-въезд
		- уже потом приплетать оплату
		- какие будут таблицы
		- spring data jpa
		- postgre driver
	- оставшиеся места считать
	- jpa
	- сначала просто в память
