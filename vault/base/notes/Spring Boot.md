---
tags:
  - note/specific/code
  - category/java
aliases: []
deck: obsidian::work
created: 2025-06-03 10:17:01+03:00
updated: 2025-09-21T12:53:33+03:00
sr-due: 2026-10-30
sr-interval: 404
sr-ease: 310
---

**Spring Boot**
—
Значительно упрощает инициализацию и конфигурацию [[Spring Framework]]. Встроенный *сервер приложений*.

![[java Spring]]

Spring Boot - надстройка над [[java Spring|Spring]], которая с помощью стартеров делает работу проще.

Стартер - *готовая конфигурация и набор библиотек для какой-то задачи*, которую можно просто подключить в проект.
✅ Минимум действий со стороны разработчика
✅ Гарантируется совместимость версий библиотек
✅ Настройки по умолчанию, которые можно изменить через application.properties

# Чем стартер отличается от библиотеки

Библиотека = набор классов. Нужные объекты нужно явно создать и настроить.

Стартер = набор классов + набор библиотек + готовая конфигурация бинов

Некоторые стартеры предоставляют доп. возможности:
- spring-boot-starter-web: *встроенный сервер*, на котором запускается приложение
- spring-boot-starter-data-jpa: может создать *таблицы на основе сущностей* в коде, сгенерировать SQL запросы на основе имени метода в репозитории
- spring-boot-starter-actuator: *добавляет эндпойнты* для мониторинга (/health, /metrics, /info)
- spring-boot-devtools: *добавляет hot reload*, можно изменить класс без перезапуска приложения или автоматически перезапускаться при изменении кода

Когда в нескольких сервисах повторяется одинаковая связка библиотек и настроек (безопасность, аудит, настройка БД/Kafka/Redis), имеет смысл создать *свой стартер*, чтобы удобно управлять зависимостями и общей конфигурацией

# Что находится внутри стартера

Версия 3 и ниже:
spring-boot-starter-X = нужные библиотеки + импорт модуля spring-boot-autoconfigure (все автоконфигурации)

Версия 4 и выше:
spring-boot-starter-X = нужные библиотеки + импорт модуля spring-boot-X (автоконфигурация для Х)

# Как работают стартеры

Каждая автоконфигурация использует условные аннотации `@Conditional` и подключается только при выполнении определенных условий.

Например, в автоконфигурации Cassandra стоит аннотация `@ConditionalOnClass`({CqlSession.class}). Это значит, что бины для Кассандры загрузятся, если в classpath есть класс CqlSession, т.е. будет добавлена библиотека с драйвером.

Так как загрузка конфигурации может произойти и без стартера, нужно периодически проверять, какие конфигурации загружаются. Это можно узнать, добавив в application.yaml
```yaml
debug: true
```

Аннотации Conditional можно использовать и за пределами стартеров. На практике часто полезен ConditionalOnProperty - создание бинов на основе свойств.

# Управление зависимостями в Maven

Чтобы не указывать версии библиотек и стартеров, можно

1. Подключить spring-boot-dependencies в dependencyManagement со scope=import
2. Наследоваться от проекта spring-boot-starter-parent. он подключит spring-boot-dependencies, настроит основные плагины, ресурсы, параметры сборки и тд.

# Дополнительные материалы
[[Как создать свой стартер]]
[[Все про переопределение зависимостей]]
[[Доклад Евгения Борисова про Spring Boot]]
