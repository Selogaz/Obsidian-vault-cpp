---
tags:
  - note/specific/code
  - category/java
aliases:
  - идексы в Postgres
deck: obsidian::java
created: 2025-09-26T10:03:54+03:00
updated: 2025-09-26T10:04:24+03:00
---

**идексы в Postgres**
—
- B-дерево(B-tree) - индекс по умолчанию. Подходит для поиска по равенству и диапазонам, поддерживает сортировку и уникальность.
- Хэш-индекс - эффективен для поиска по равенству, но не поддерживают диапазонные запросы
- GiST (Generalized Search Tree) - для сложных типов данных и пользовательских операторов. Используется, например, для геоданных и полнотекстового поиска.
- GIN (Generalized Inverted Index) - оптимален для составных и многозначных значений, таких как массивы и полнотекстовый поиск
- SP-GiST (Space-Partitioned GiST) - специализирован для многомерных данных и разделения пространства на непересекающиеся области
- BRIN (Block Range Index) - эффективен для очень больших таблиц с естественной сортировкой данных, где данные физически близко расположены
- [[java индексы в базах данных|индексы в базах данных]]

## Как добавить индекс во время работы БД

Построение индекса требует установки блокировки типа [[java типы локов в БД|SHARE]] на таблицу. Из таблицы можно читать значения, но операции записи (INSERT, UPDATE и DELETE) блокируются до окончания построения индекса. И наоборот - незавершенные транзакции, изменяющие данные в таблице, будут блокировать работу команды CREATE INDEX

В PostgreSQL можно создавать индексы без блокировки записи с помощью команды CREATE INDEX CONCURRENTLY. Минус - значительно увеличивается время построения, возникают риски блокировок и конфликтов.
