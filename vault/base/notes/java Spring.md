---
tags:
  - note/specific/code
  - category/java
aliases:
  - Spring
deck: obsidian::java
created: 2025-09-20T07:50:38+03:00
updated: 2025-10-06T19:18:09+03:00
sr-due: 2025-10-10
sr-interval: 4
sr-ease: 293
---

**Spring**
—
фреймворк для упрощения разработки Java-приложений.

Главная функция Spring - инверсия управления [[IoC]]. Разработчику ненужно явно создавать объекты и связывать их друг с другом. Это сильно упрощает код, можно сфокусироваться на описании бизнес-компонентов.

Плюс у Spring огромное количество модулей, которые упрощают разработку: [[Spring Boot]], Spring [[java MVC|MVC]], Spring Data, [[java Spring Security|Spring Security]] и тд

Недостатки Spring:
- ❌ Запуск приложения может растянуться на несколько минут из-за активного использования рефлексии и создания классов при старте приложения
- ❌ Высокое потребление памяти
- ❌ Сложная реализация. Несмотря на простые инструменты, требуется хорошее понимание внутреннего устройства фреймворка - прокси-классы, автоконфигурации, контексты и тд.

[[Альтернативы для Spring]]

# Разница [[IoC]] и [[DI]]
[[IoC]] - подход к разработке, [[DI]] - частный случай реализации.

[[IoC]] - переворачивается схема работы программы. Не наш код вызывает библиотеки, а фреймворк вызывает наш код.

[[DI]] - [[IoC]] для инициализации объектов. Зависимости предоставляются объекту извне, объект не создаёт их самостоятельно. Конфигурация объекта отделяется от его бизнес-логики.
```java
// Создание зависимости напрямую      
public UserController() {
   this.userService = new UserService();     
}
// DI - зависимость передается в объект
public UserController(UserService userService) {
   this.userService = userService ;     
}

```
Не путать Dependency Injection и Dependency Inversion. Dependency Inversion - это D из [[java SOLID|SOLID]]

фреймворк, в основе которого лежит [[IoC]]-контейнер, который упрощает создание объектов и их связывание друг с другом.

## Веб-приложения на основе Spring

- Стартер Spring Boot Webmvc

Содержит встроенный сервер [[java Tomcat|Tomcat]], приложение становится самодостаточным и запускается как обычный Java-процесс.

Архитектура построена на основе сервлетов. Запрос приходит на сервер, проходит через цепочку фильтров и передаётся на сервлет. В Spring MVC это [[java DispatcherServlet|DispatcherServlet]] - центральный сервлет, который принимает все входящие запросы, делегирует обработку в классы-контроллеры и возвращает ответ пользователю.

- Стартер Spring Boot Webflux

Содержит встроенный сервер [[Netty]] и реализует реактивную модель обработки запросов: исходящие запросы принимаются одним или несколькими потоками (eventloop) и обрабатываются в реактивных неблокирующих контроллерах.

# Основы Spring

- Бин ([[java bean|bean]]) - объект, управляемый Spring. Spring отвечает за создание, конфигурирование и [[java жизненный цикл бинов|жизненный цикл бинов]], которые составляют основу приложения.
- [[IoC]] контейнер ([[java контейнер бинов|контейнер бинов]]?) - компонент, который создаёт, хранит и связывает бины. Общее название для фреймворков, которые реализуют [[IoC]]
- Контекст ([[java ApplicationContext|ApplicationContext]]) - интерфейс в Spring для реализации функций [[IoC]] контейнера.

Способы конфигурации бинов:
- XML-конфиг - устаревший способ, встречается в очень старых системах
- Groovy-конфиг - нигде не встречается(лол)
- Аннотации внутри класса: `@Component, @Service, @Autowired`
- java-based: конфигурация описывается в отдельном классе `@Configuration + @Bean`

Зависимости можно внедрять через конструктор, через сеттеры и через поля. Внедрение через конструктор считается самым правильным, потому что объект сразу создаётся в работоспособном состоянии. Как бонус:
- Можно сделать поля final
- Все зависимости видны сразу и задаются при создании объекта
- Если в классе появляется слишком много полей - это косвенный признак, что класс слишком сложный. В случае конструктора это больше бросается в глаза.

В целом вопрос дискуссионный, многие нормально относятся к внедрению через поля.

# Дополнительные материалы
[Документация Spring](“Spring Framework Overview” ([“Документация Spring”](zotero://select/library/items/RWNKRHDH)) ([snapshot](zotero://open-pdf/library/items/KGEWKPQL?sel=%23page-title&annotation=GLAAGVDI)))
 [Опыт перевода сервиса на реактивный стек](“Зачем нам Reactive и как его готовить” ([Taruf, 2023](zotero://select/library/items/VE95HY6S)) ([snapshot](zotero://open-pdf/library/items/L2UF96VY?sel=h1%20%3E%20span&annotation=JKFKZIGU)))
[[Spring Framework]]
