---
tags:
  - note/specific/code
  - category/java
aliases:
  - Kafka
deck: obsidian::java
created: 2025-09-17T10:51:17+03:00
updated: 2025-09-17T10:51:17+03:00
---

**Kafka**
—
Kafka - [[java брокер сообщений|брокер сообщений]]
![[java брокер сообщений]]

Плюсы кафки:
- Гарантии доставки
	- At most once
		- быстрее, экономит память
		- redis будет быстрее
	- At least once
		- сервисы получают acknowledgement(подтверждение) доставки как до Кафки, так и до получателя
		- возможны дубликаты
		- у консюмера должен быть фильтр дубликатов. Т.е. он должен быть [[java идемпотетность|идемпотентным]]
- Асинхронная обработка событий
- Один продюсер - много консюмеров
- Топики
	- Топик поделен на партишены![[Лучший Гайд по Kafka для Начинающих За 1 Час 2025-09-17.png]]
	- *порядок* чтения и записи в/из партишенов *случайный*
	- в несколько партишенов можно писать и читать с них одновременно(параллельно). Это увеличивает пропускную способность.
	- При использовании партишенов *нарушается порядок следования сообщений*
	- Порядок внутри одного партишена гарантирован
	- Сообщения с одинаковым ключом отправляются в один и тот же партишен
	- Партишены распределяются между разными машинами![[Лучший Гайд по Kafka для Начинающих За 1 Час 2025-09-17-1.png]]
	- На каждой машине в топике лежат копии всех партишенов![[Лучший Гайд по Kafka для Начинающих За 1 Час 2025-09-17-2.png]]
- один микросервис может быть и продюсером и консюмером *одновременно*

Топик - канал для определенного типа сообщений. Тема, договор, контракт. ![[Лучший Гайд по Kafka для Начинающих За 1 Час 2025-09-16.png]]![[Лучший Гайд по Kafka для Начинающих За 1 Час 2025-09-16-1.png]]
![[Лучший Гайд по Kafka для Начинающих За 1 Час 2025-09-17-3.png]]

