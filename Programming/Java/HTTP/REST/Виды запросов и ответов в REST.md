Для корректного взаимодействия клиент и сервер должны понимать, где хранится та или иная информация. В REST для этого используют структуру HTTP-запросов, она помогает передавать максимум информации в минимальном объёме. 

Типичный REST-запрос всегда использует какой-то **HTTP-метод**. Тип метода определяет, что мы собираемся делать с ресурсом сервера. Наиболее распространённые методы:

- POST, чтобы создать ресурс;
- GET, чтобы получить ресурс;
- PUT, чтобы обновить содержимое ресурса;
- PATCH, частичное обновление;
- DELETE, чтобы удалить ресурс.

Этот набор операций принято называть CRUD-операциями (**C**reate, **R**etrieve, **U**pdate, **D**elete). Подавляющее большинство веб-сервисов работают с этими операциями.

Далее необходимо указать, где мы будем работать с ресурсом. Для этого нужно указать **эндпоинт** — уникальный идентификатор ресурса в Сети. Обычно в качестве эндпоинта служит URL сервера.

**Путь** до ресурса также очень важен. С помощью пути мы можем передать информацию о назначении API. Также в пути могут передаваться идентификаторы ресурсов.

**Заголовки** хранят информацию, относящуюся как к клиенту, так и к серверу. В основном заголовки предоставляют данные аутентификации, такие как ключ API, имя или IP-адрес компьютера, на котором установлен сервер, и информацию о формате ответа (как правило, это application/JSON).

**Тело запроса** используется для передачи дополнительной информации на сервер. Например, это может быть часть данных, которую вы хотите добавить или заменить.

У ответа сервера тоже могут быть свои особенности. В ответ на запрос сервер отправляет не сам искомый ресурс, а его представление — машиночитаемое описание его текущего состояния. Один и тот же ресурс может быть представлен в разных форматах. Например, кроме используемого нами JSON, это может быть XML.

Ранее мы получили информацию о курсах по программированию в онлайн-университете через REST-запрос. Попробуем обновить информацию о длительности курса по Python. Для этого нужно обратиться к серверу и указать идентификатор курса:

PUT /course/python-basic-customtariffs/1  
HOST: https://skillbox.ru  
Content-Type: application/json  
Accept: application/json  
{  
    "duration": 8  
}

В данном случае мы обратились к серверу и попросили его обновить (PUT) информацию о курсе по программированию с id=1. Отразим это в таблице, чтобы легче запомнить.

|                           |                   |                                                                                                                    |
| ------------------------- | ----------------- | ------------------------------------------------------------------------------------------------------------------ |
| **Зона ответственности**  | **Часть запроса** | **Пример**                                                                                                         |
| Что делаем?               | Метод             | PUT                                                                                                                |
| Где делаем и с чем?       | Адрес             | [https://skillbox.ru/course/python-basic-customtariffs/](https://skillbox.ru/course/python-basic-customtariffs/)/1 |
| Дополнительная информация | Тело и заголовки  | {  <br>"duration": 8  <br>}                                                                                        |

И давайте рассмотрим несколько рекомендаций при работе с REST:

1. Используйте существительные, но не глаголы в URL.

Для простоты понимания используйте эту структуру для каждого ресурса:

|                              | /courses                              | /courses/456                        |
| ---------------------------- | ------------------------------------- | ----------------------------------- |
| GET (чтение)                 | Вернёт список курсов                  | Вернёт курс с id 456                |
| POST (создание)              | Создаёт новый курс                    | **Такой метод невозможен**          |
| PUT (обновление)             | Обновляет множество переданных курсов | Обновляет данные курса 456          |
| PATCH (частичное обновление) | Частично обновляет множество курсов   | Частично обновляет данные курса 456 |
| DELETE (удаление)            | Удаляет все курсы                     | Удаляет курс 456                    |
|                              |                                       |                                     |
2. Не рекомендуется использовать GET-методы для изменения любого состояния.

Допустим, нам необходимо активировать курс через REST, и, возможно, придёт мысль сделать такой запрос:

  ==GET /courses/456/activate==

Получается, GET-запрос изменяет состояние курса. Для таких случаев подходит PUT:

  **PUT /courses/456/activate**

3. Используйте множественные формы существительных.

Не перемешивайте существительные единственного и множественного числа. Используйте только существительные во множественном числе для всех ресурсов:

- /cars, а не /car
- /users, а не /user
- /products, а не /product
- /settings, а не /setting

4. Используйте вложенные ресурсы.

Если у курса необходимо получить список модулей:

GET /courses/456/modules

Если у курса необходимо получить конкретный модуль:

GET /courses/456/modules/9

[[REST]]