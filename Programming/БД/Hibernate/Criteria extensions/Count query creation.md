Очень распространенным требованием является создание запроса подсчета на основе существующего запроса. Это можно сделать с помощью метода JpaCriteriaQuery#createCountQuery().

Результирующий запрос подсчета обернет копию исходного запроса в виде подзапроса в предложении from и выберет count(*).
[[Criteria extensions]]