Запросы по критериям представляют собой типобезопасную альтернативу запросам HQL, JPQL и собственному SQL.  
  
Запросы по критериям — это программный, типобезопасный способ выражения запроса. Они типобезопасны с точки зрения использования интерфейсов и классов для представления различных структурных частей запроса, таких как сам запрос, предложение выбора или порядок и т. д. Они также могут быть типобезопасными с точки зрения ссылки на атрибуты

API Jakarta Persistence лучше, поскольку он представляет собой чистый взгляд на уроки, извлеченные из этого API.

Запросы критериев, по сути, представляют собой граф объектов, где каждая часть графа представляет собой увеличивающуюся (по мере продвижения вниз по этому графу) более атомарную часть запроса. Первым шагом при выполнении запроса по критериям является построение этого графика. Интерфейс jakarta.persistence.criteria.CriteriaBuilder — это первое, с чем вам необходимо ознакомиться перед использованием критериальных запросов. Его роль — роль фабрики для всех отдельных частей критериев. Экземпляр jakarta.persistence.criteria.CriteriaBuilder можно получить, вызвав метод getCriteriaBuilder() либо jakarta.persistence.EntityManagerFactory, либо jakarta.persistence.EntityManager.  
  
Следующим шагом является получение запроса jakarta.persistence.criteria.CriteriaQuery. Это достигается с помощью одного из трех методов jakarta.persistence.criteria.CriteriaBuilder:  
  
<T> CriteriaQuery<T> createQuery(Class<T> resultClass)  
  
CriteriaQuery<Tuple> createTupleQuery()  
  
CriteriaQuery<Object> createQuery()  
  
Каждый из них служит разным целям в зависимости от ожидаемого типа результатов запроса.